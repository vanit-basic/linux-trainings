	<head>
		<title>Lesson 1</title>
		<meta charset='utf-8'>
		<meta name = "viewport" content = "width=device-width, initial-scale=1">
		<link rel = "stylesheet" href = "../css/regvic.css" >
	</head>
	<body>
	<div class="reg">
		<div>
		<form onsubmit='submitHandler(event)'>
			<h2>Registration</h2>
			<label for="input1">Name</label><br>
			<input type="text" id="nameInput" name="name" placeholder="Enter your name"><br>

			<label for="input2">Email</label><br>
			<input type="email" id="emailInput" name="email" placeholder="Enter your email" ><br>

			<label for="input2">Password</label><br>
			<input type="password" id="passwordInput" name="password" placeholder="Enter your password"><br><br>
			<input type="submit" id="btn" value="Submit" >
		</form>
		</div>
		</div>
		<script>

			function goToVictorinaPage() {
				location.replace('./index.html');
			}

			function validation() {
				const name = document.getElementById('nameInput').value.trim();
				const email = document.getElementById('emailInput').value.trim();
				const password = document.getElementById('passwordInput').value.trim();
				if (name && email && password) {
					addUser(name, email, password);
				} else {
					alert( 'Please enter all fields');
					return;
				}
				
			}

			function addUser(n, e, p) {
				const user = {
					name: n,
					email: e,
					password: p
				};

				if(!localStorage.getItem(n)){
					localStorage.setItem(n, JSON.stringify(user));
				} else {
					alert(" Please enter another name!");
					return;
				}
				sayHello(n);
			}

			function sayHello(n) {
				alert(`user ${n} is added`);
				goToVictorinaPage();
			}
			
			function submitHandler(event) {
				event.preventDefault();
				validation();
			}
			
		</script>
	</body>
</html>
