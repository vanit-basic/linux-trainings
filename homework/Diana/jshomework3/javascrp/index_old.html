<!Doctype html>
<html>
	<head>
		<title>Lesson 1</title>
        <meta charset='utf-8'>
        
	</head>
	<body>
        <style>
            input {
                width: 50%;
                padding: 12px 20px;
                margin: 8px 0;
                box-sizing: border-box;
                border: 2px solid blue;
                border-radius: 6px;
            }
            label{
                font-weight:normal;
                font-size:30px;
            }
            #submit{
                background-color: rgb(60, 105, 188);
                color: white;
            }
        </style>
        
		<form onsubmit='submitHandler(event)'>
			<label for="input1">Name</label><br>
			<input type="text" id="nameInput" name="name" placeholder="Enter your name"required><br>
​
			<label for="input2">Email</label><br>
			<input type="email" id="emailInput" name="email" placeholder="Enter your email" required><br>
​
			<label onclick="clickEvent(event)" for="input2">Password</label><br>
			<input type="password" id="passwordInput" name="password" placeholder="Enter your password"required><br><br>
​
            <input type="submit" value="Submit" id="submit" >
		</form>
		<script>
		
             function clickEvent(event){
                      console.log(event);
                      console.log(event.type);
                      console.log(event.target.value);
             }
            
             function vallidation() {
                     const name = document.getElementById('nameInput').value;
                     const email = document.getElementById('emailInput').value;
                     const password = document.getElementById('passwordInput').value;

                     if (name && email && password){
                         addUser(name,email,password);
                     }
                      else{
                          alert('Please enter all fields');
                          return;
                      }
             }

            function addUser(n,e,p){
                    const user = {
                        name: n,
                        email:e,
                        password:p,

                    }

                    if (localStorage.getItem(n)){
                        alert("Please enter another username");
                        return;
                    }

                    localStorage.setItem(n, JSON.stringify(user));
                    sayHello(n);
                }
                   function sayHello(n){
                       alert(`user ${n} is added`);
                       location.replace('./index.html');
                   }
                    function submitHandler(event){
                        event.preventDefault();
                        vallidation();
                    }
           
        </script>
       
	</body>
</html>